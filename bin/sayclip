# Set the PATH to include your virtualenv and common locations like Homebrew's
export PATH="/usr/local/bin:/opt/homebrew/bin:/Users/amin/virtenv/bin:$PATH"

# 1. pandoc reads the selected text (from stdin), cleans it, and pipes it out.
# 2. The $(cat -) reads pandoc's output and uses it for the --text argument.
# 3. Mozilla tts generates the audio and pipes it to the play command.
pandoc -f markdown -t plain --wrap=none | tts --text "$(cat -)" --model_name tts_models/en/ljspeech/vits --pipe_out | play -
